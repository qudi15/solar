<!DOCTYPE html>
<html lang="en" manifest="index.appcache">

    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame 
               Remove this if you use the .htaccess -->
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Cognitive Sales Advisor</title>
        <meta name="viewport" content="width=device-width; initial-scale=1.0">
        <!-- Date: 2015-05-14 -->
        <style type="text/css" title="text/css">
            html,
            body {
                margin: 0;
                padding: 0;
                width: 100%;
                height: 100% !important;
                background: #333 url(node_modules/system/application/view/images/bg-loader.gif) no-repeat 50% 40% !important;
                background-repeat: no-repeat;
            }
            
            body .app_container {
                margin: 0px;
                padding: 0px;
                height: 100%;
                width: 100%;
                visibility: visible;
            }
        </style>
        <link rel="stylesheet" href="css/reset.css" rel="stylesheet" type="text/css" />
        <link rel="stylesheet" href="node_modules/dijit/themes/soria/soria.css" rel="stylesheet" type="text/css" />
        <link rel="stylesheet" href="node_modules/app/view/css/appview.css" rel="stylesheet" type="text/css" />

        <!-- Replace favicon.ico & apple-touch-icon.png in the root of your domain and delete these references -->
        <link rel="shortcut icon" href="32.png" />
        <link rel="apple-touch-icon" href="320.png" />
        <link rel="apple-touch-icon-precomposed" href="320.png" />
        <link rel="Bookmark" href="320.png" />
        <link rel="icon" href="32.png" type="image/x-icon">
        <link rel="shortcut icon" href="32.png" type="image/x-icon">

        <script>
            if (getCookie('hash')) {
                if (getCookie('hash').split('#')[1] !== undefined || getCookie('hash').split('#')[1] !== '') {
                    //}else{
                    window.location.href = '' + getCookie('hash');
                    setCookie('hash', null, -1);
                    window.location.reload(true);
                }
            }

            function getCookie(c_name) {
                if (document.cookie.length > 0) {
                    c_start = document.cookie.indexOf(c_name + "=");
                    if (c_start != -1) {
                        c_start = c_start + c_name.length + 1;
                        c_end = document.cookie.indexOf(";", c_start);
                        if (c_end == -1) {
                            c_end = document.cookie.length;
                        }
                        return unescape(document.cookie.substring(c_start, c_end));
                    }
                }
                return false;
            }

            function setCookie(c_name, value, expiredays) {
                var exdate = new Date();
                exdate.setDate(exdate.getDate() + expiredays);
                document.cookie = c_name + "=" + escape(value) + ((expiredays == null) ? "" : ";expires=" + exdate.toGMTString());
            }
            var dojoConfig = {
                // Enable the AMD loader
                async: true,
                // Define the base URL for all of our modules and packages
                baseUrl: '.',
                ioPublish: true,
                parseOnLoad: false,
                locale: 'en-us',
                // Enable debugging
                isDebug: false,
                // Register the packages we are going to be using. These same packages should be defined in the
                // build profile in `app.profile.js`.
                packages: [
                    // Using a string as a package is shorthand for `{ name: 'app', location: 'app' }`
                    {
                        name: "dojo",
                        location: "node_modules/dojo"
                    }, {
                        name: "dijit",
                        location: "node_modules/dijit"
                    }, {
                        name: "dojox",
                        location: "node_modules/dojox"
                    }, {
                        name: "system",
                        location: "node_modules/system"
                    }, {
                        name: "comlib",
                        location: "node_modules/comlib"
                    }, {
                        name: "bcomlib",
                        location: "node_modules/bcomlib"
                    }, {
                        name: "app",
                        location: "node_modules/app"
                    }
                ],
                // Use the smaller, faster "lite" CSS selector engine, which works in all browsers IE8+
                selectorEngine: 'lite',
                // Fix the loader to use normal AMD resolution of unregistered module paths (relative to `baseUrl`)
                // instead of the legacy Dojo resolution method (relative to the parent directory of `baseUrl`)
                tlmSiblingOfDojo: false
            };
        </script>
        <script src="/sales/gss/dsconsoleservice/service/profile/packagesscript.js" type="text/javascript"></script>
        <script src="errorMonitor.js" type="text/javascript"></script>

        <!--<script src="../Framework/less/less.min.js" type="text/javascript"></script>-->
        <script src="node_modules/dojo/dojo.js" type="text/javascript" data-dojo-config="async: true"></script>
    </head>

    <body class="application soria">
        <div id="app_container" data-dojo-type="system/application/startup"></div>

        <script>
            //require package class
            require(['system/system', 'comlib/comlib', 'app/app'], function() {
                // start up system framework
                require(["dojo/request", "dojo/dom", "dojo/parser", "system/application/startup", "dojo/domReady!"], function(request, dom, parser) {
                    // Invoke the dojo/parser
                    parser.instantiate([dom.byId("app_container")]);
                });
            });
        </script>
    </body>

</html>